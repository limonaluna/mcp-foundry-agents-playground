{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "Template configuration for MCP Foundry deployment and agents. Copy to config.local.json and customize, or use environment variables.",
  
  "project": {
    "endpoint": "${AZURE_AI_ENDPOINT}",
    "name": "${AZURE_AI_PROJECT_NAME}",
    "location": "${AZURE_LOCATION:-swedencentral}",
    "modelDeployment": "${MODEL_DEPLOYMENT:-gpt-4o}"
  },
  
  "agents": {
    "sql": {
      "name": "${SQL_AGENT_NAME:-mssql-mcp-agent}",
      "instructions": "You are a helpful SQL assistant that can connect to SQL databases and execute queries. Use the available MCP tools to help users manage and query their SQL databases. Always provide clear explanations of what you're doing.",
      "mcpServer": {
        "url": "${MCP_ENDPOINT}",
        "label": "mssql_mcp",
        "authType": "apiKey",
        "apiKeySource": "keyVault"
      },
      "allowedTools": []
    },
    "github": {
      "name": "${GITHUB_AGENT_NAME:-github-mcp-agent}",
      "instructions": "You are a helpful agent that can use MCP tools to assist users. Use the available MCP tools to answer questions and perform tasks related to the Azure REST API specifications repository.",
      "mcpServer": {
        "url": "https://gitmcp.io/Azure/azure-rest-api-specs",
        "label": "github",
        "authType": "none"
      },
      "allowedTools": ["search_azure_rest_api_code"]
    }
  },
  
  "infrastructure": {
    "resourceGroup": "${RESOURCE_GROUP:-mcp}",
    "location": "${AZURE_LOCATION:-swedencentral}",
    "foundry": {
      "prefix": "${FOUNDRY_PREFIX:-mcp-foundry}",
      "modelName": "${FOUNDRY_MODEL_NAME:-gpt-4o-mini}",
      "modelVersion": "${FOUNDRY_MODEL_VERSION:-2024-07-18}",
      "modelCapacity": "${FOUNDRY_MODEL_CAPACITY:-150}"
    },
    "mcp": {
      "resourcePrefix": "${RESOURCE_PREFIX:-mssql-mcp}",
      "environmentName": "${ENVIRONMENT_NAME:-prod}",
      "containerApp": {
        "name": "${CONTAINER_APP_NAME}",
        "url": "${CONTAINER_APP_URL}",
        "image": "${CONTAINER_IMAGE}"
      },
      "sql": {
        "serverName": "${SQL_SERVER_NAME}",
        "databaseName": "${SQL_DATABASE_NAME}",
        "fqdn": "${SQL_SERVER_FQDN}"
      },
      "keyVault": {
        "name": "${KEY_VAULT_NAME}",
        "apiKeySecretName": "mcp-api-key"
      }
    }
  },
  
  "server": {
    "port": 3000,
    "nodeEnv": "${NODE_ENV:-production}",
    "allowedOrigins": ["http://localhost:3000", "https://ai.azure.com"],
    "enableRateLimiting": true,
    "logLevel": "${LOG_LEVEL:-info}"
  }
}
